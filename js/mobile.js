define([],function(){var e,t,n,i,d,o,s,a,l=!1,r=function(){d=document.body.scrollHeight/document.body.scrollWidth,o=document.body.scrollWidth,s=0},c=function(){e&&(document.getElementById("js-mobile-tagcloud").innerHTML=e.innerHTML),t&&(document.getElementById("js-mobile-aboutme").innerHTML=t.innerHTML),n&&(document.getElementById("js-mobile-friends").innerHTML=n.innerHTML)},m=function(){function i(e){return $("link.menu-list").attr(e)}var d=document.createElement("div");d.id="viewer",d.className="hide",e=document.getElementById("js-tagcloud"),t=document.getElementById("js-aboutme"),n=document.getElementById("js-friends");var o=e?'<span class="viewer-title">'+i("tags")+'</span><div class="viewer-div tagcloud" id="js-mobile-tagcloud"></div>':"",s=n?'<span class="viewer-title">'+i("friends")+'</span><div class="viewer-div friends" id="js-mobile-friends"></div>':"",l=t?'<span class="viewer-title">'+i("about")+'</span><div class="viewer-div aboutme" id="js-mobile-aboutme"></div>':"";d.innerHTML='<div id="viewer-box">        <div class="viewer-box-l">            <div class="viewer-box-wrap">'+l+s+o+'</div>        </div>        <div class="viewer-box-r"></div>        </div>',document.getElementsByTagName("body")[0].appendChild(d);var r=document.getElementById("viewer-box");a=r,r.style.height=document.body.scrollHeight+"px"},u=function(e,t){document.getElementById("viewer").className="",setTimeout(function(){a.className="anm-swipe"},0),l=!0,document.ontouchstart=function(e){return"A"!=e.target.tagName?!1:void 0}},v=function(){document.getElementById("viewer-box").className="",l=!1,document.ontouchstart=function(){return!0}},f=function(){document.getElementById("viewer-box").addEventListener("webkitTransitionEnd",function(){0==l&&(document.getElementById("viewer").className="hide",l=!0)},!1),i.addEventListener("touchend",function(){u()},!1);var e,t,n=document.getElementsByClassName("viewer-box-r")[0];n.addEventListener("touchstart",function(){e=+new Date},!1),n.addEventListener("touchend",function(){t=+new Date,300>t-e&&v(),e=0,t=0},!1);var d=$("#mobile-nav .overlay"),o=$(".js-mobile-header");window.onscroll=function(){var e=document.documentElement.scrollTop+document.body.scrollTop;e>=69?d.addClass("fixed"):d.removeClass("fixed"),e>=160?o.removeClass("hide").addClass("fixed"):o.addClass("hide").removeClass("fixed")},o[0].addEventListener("touchstart",function(){$("html, body").animate({scrollTop:0},"slow")},!1)},g=function(){for(var e=$(".tagcloud a"),t=0;t<e.length;t++){var n=parseInt(4*Math.random())+1;e.eq(t).addClass("color"+n)}$(".article-category a:nth-child(-n+2)").attr("class","color5")};return{init:function(){i=document.getElementsByClassName("slider-trigger")[0],r(),m(),c(),f(),g()}}});